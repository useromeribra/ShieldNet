<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>لوحة المستخدم | ShieldNet</title>
  <style>
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #4e54c8, #8f94fb);
      margin: 0; padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      color: white;
    }
    header {
      width: 100%;
      background: rgba(0,0,0,0.5);
      padding: 1rem 2rem;
      text-align: center;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }
    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 90%;
      max-width: 600px;
      text-align: center;
    }
    h1 {
      margin-bottom: 0.5rem;
    }
    p {
      margin-top: 0;
      margin-bottom: 2rem;
      font-size: 1.1rem;
    }
    button {
      background-color: #f39c12;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 30px;
      font-size: 1.1rem;
      cursor: pointer;
      color: #222;
      font-weight: bold;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #d78e10;
    }
    ul {
      list-style: none;
      padding: 0;
    }
    li {
      margin-bottom: 0.5rem;
      font-size: 1rem;
    }
  </style>
</head>
<body>

<header>
  <h1>مرحبًا بك في ShieldNet</h1>
</header>

<main>
  <p>أنت الآن في أمان مع مساعدك <strong>حارس النور</strong> 🛡️</p>
  <ul id="ideasList"></ul>
  <button onclick="logout()">تسجيل الخروج</button>
</main>

<script type="module" src="firebase.js"></script>
<script type="module">
  import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

  const auth = window.firebaseAuth;
  const db = getFirestore();

  // تحقق من الدخول
  onAuthStateChanged(auth, async (user) => {
    if (!user) {
      window.location.href = "login.html";
    }
  });

  // تسجيل الخروج
  window.logout = function () {
    signOut(auth).then(() => {
      window.location.href = "login.html";
    });
  }

  // تحميل الأفكار المساعدة
  const ideas = [
    "سجل النقاء",
    "زر أنا ضعفت",
    "قائمة المحفزات",
    "عداد الوقت",
    "رسائل تشجيعية",
    "صفحة أنقذ حياتي",
    "شارك انتصارك",
    "تذكيرات الصلاة والرياضة",
    "حجب ذكي",
    "تحليل الانتكاسات",
    "وضع أنا مشغول",
    "كتب ومقاطع تحفيز",
    "مجتمع الدعم",
    "جلسات تأمل",
    "رفيق افتراضي",
    "تحديات يومية",
    "نظام نقاط",
    "ربط بمدرب حقيقي",
    "صفحة الهدف",
    "مقارنة الحياة",
    "دعم AI احترافي",
    "نادي الناجين",
    "زر نقي الآن",
    "مراقبة الوقت",
    "رسوم تطورك",
    "توصيات حسب حالتك",
    "حجب التطبيقات",
    "نظام فوز أسبوعي",
    "واجهة تحفيزية",
    "خريطة طريق للتعافي"
  ];

  const ideasList = document.getElementById("ideasList");
  ideas.forEach(idea => {
    const li = document.createElement("li");
    li.textContent = "🔹 " + idea;
    ideasList.appendChild(li);
  });
</script>

</body>
</html>
