<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¤Ø³Ø³ | ShieldNet</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: #f4f4f4;
      padding: 20px;
      direction: rtl;
    }
    h1 {
      color: #2c3e50;
    }
    .section {
      background: white;
      border-radius: 10px;
      padding: 15px;
      margin-top: 20px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    #chatLog {
      max-height: 200px;
      overflow-y: auto;
      border: 1px solid #ddd;
      padding: 10px;
      margin-top: 10px;
      background: #fafafa;
    }
    button {
      background: #007bff;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
    }
    button:hover {
      background: #0056b3;
    }
  </style>
</head>
<body>
  <h1>ğŸ§  Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ÙŠØ§ Ù…Ø¤Ø³Ø³ ShieldNet!</h1>
  <p>Ù„ÙˆØ­ØªÙƒ Ø§Ù„Ø­ØµØ±ÙŠØ© Ù„Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙƒØ§Ù…Ù„.</p>

  <!-- Ù‚Ø³Ù… Ù†Ø§ÙŠØ±Ø§ -->
  <div class="section">
    <h2>ğŸ‘©â€ğŸ’» Ù†Ø§ÙŠØ±Ø§ - Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„ØªØ·ÙˆÙŠØ±</h2>
    <input type="text" id="nayraInput" placeholder="Ø§ÙƒØªØ¨ Ø£Ù…Ø± Ø£Ùˆ ÙÙƒØ±Ø©..." style="width: 80%;" />
    <button onclick="sendToNayra()">Ø£Ø±Ø³Ù„ Ù„Ù†Ø§ÙŠØ±Ø§</button>
    <div id="chatLog"></div>
  </div>

  <!-- Ù‚Ø³Ù… Ù…Ù„Ùƒ Ø§Ù„ØªØ³ÙˆÙŠÙ‚ -->
  <div class="section">
    <h2>ğŸ“¢ Ù…Ù„Ùƒ Ø§Ù„ØªØ³ÙˆÙŠÙ‚</h2>
    <button onclick="startMarketing()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù†Ø´Ø± Ø§Ù„Ø¢Ù†</button>
    <div id="marketingStatus" style="margin-top: 10px;"></div>
  </div>

  <button onclick="logout()">ğŸ”“ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>

  <!-- Firebase auth -->
  <script type="module" src="firebase.js"></script>
  <script type="module">
    import { onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    const auth = window.firebaseAuth;
    const founderEmail = "founder@shieldnet.com"; // ğŸ”’ Ø§Ø³ØªØ¨Ø¯Ù„ Ø¨Ø¥ÙŠÙ…ÙŠÙ„Ùƒ Ø§Ù„Ø±Ø³Ù…ÙŠ

    onAuthStateChanged(auth, (user) => {
      if (!user || user.email !== founderEmail) {
        window.location.href = "dashboard.html";
      }
    });

    window.logout = function () {
      signOut(auth).then(() => {
        window.location.href = "login.html";
      });
    };

    // ğŸ§  Ù†Ø§ÙŠØ±Ø§
    window.sendToNayra = function () {
      const input = document.getElementById("nayraInput").value.trim();
      if (!input) return;

      const reply = `ğŸ’¡ Ù†Ø§ÙŠØ±Ø§: ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù…Ø± "${input}"... âœ… Ø§Ù„ØªÙ†ÙÙŠØ° Ù‚ÙŠØ¯ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©...`;
      const log = document.getElementById("chatLog");
      const msg = document.createElement("div");
      msg.textContent = reply;
      log.appendChild(msg);
      document.getElementById("nayraInput").value = "";
    };

    // ğŸ“¢ Ù…Ù„Ùƒ Ø§Ù„ØªØ³ÙˆÙŠÙ‚
    window.startMarketing = function () {
      const status = document.getElementById("marketingStatus");
      status.innerHTML = "ğŸš€ Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù†Ø´Ø± Ø¥Ù„Ù‰ ÙÙŠØ³Ø¨ÙˆÙƒØŒ ØªÙˆÙŠØªØ±ØŒ Ø¥Ù†Ø³ØªØºØ±Ø§Ù…ØŒ ØªÙŠÙƒ ØªÙˆÙƒ...";

      setTimeout(() => {
        status.innerHTML += "<br>ğŸ“£ ØªÙ… Ù†Ø´Ø± 200 Ø¥Ø¹Ù„Ø§Ù† Ø°ÙƒÙŠ Ø¨Ù†Ø¬Ø§Ø­! ğŸ¯";
      }, 3000);
    };
  </script>
</body>
</html>
